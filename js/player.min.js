"use strict";function getParameterByName(e,a){a||(a=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var l=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),t=l.exec(a);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}var Player={YTPlayer:void 0,updateTimeInterval:void 0,updateMetaInterval:void 0,activeKeys:{},GUI:{title:document.getElementById("title"),time:document.getElementById("currentTime"),duration:document.getElementById("duration"),controls:{play:document.getElementById("play"),prev:document.getElementById("prev"),next:document.getElementById("next")},searchField:document.getElementById("searchField")},onReady:function(e){Player.YTPlayer.setShuffle(!0),Player.YTPlayer.unMute(),Player.YTPlayer.setVolume(100),Player.GUI.controls.prev.addEventListener("click",Player.playPrevious),Player.GUI.controls.next.addEventListener("click",Player.playNext),window.addEventListener("keydown",Player.keydown,!1),window.addEventListener("keyup",Player.keyup,!1),Player.updateTimeInterval=setInterval(Player.updateTime,500),console.log("Interval created"),Player.updateMetaInterval=setInterval(Player.displayMeta,1e3),Player.play()},onStateChange:function(e){var a=e.target;console.log("State changed to: ",a.getPlayerState())},keydown:function(e){if(console.log("Keydown Event called:",e.keyCode),null==Player.activeKeys[e.keyCode]){switch(e.keyCode){case 37:Player.playPrevious();break;case 39:Player.playNext();break;case 32:Player.changeVideoState()}Player.activeKeys[e.keyCode]=!0}},keyup:function(e){Player.activeKeys[e.keyCode]=null},changeVideoState:function(){Player.YTPlayer.getPlayerState()==YT.PlayerState.PLAYING?(clearInterval(Player.updateTimeInterval),Player.pause()):(Player.updateTimeInterval=setInterval(Player.updateTime,500),Player.play())},displayMeta:function(){var e=Player.YTPlayer.getVideoData().title;Player.GUI.title.innerText=e,document.getElementsByTagName("title")[0].innerText=e,Player.GUI.controls.play.addEventListener("click",Player.changeVideoState)},playNext:function(){Player.YTPlayer.nextVideo()},playPrevious:function(){Player.YTPlayer.previousVideo()},formatTime:function(e){e=Math.round(e);var a=Math.floor(e/60);e-=60*a;var l=Player.str_pad_left(a,"0",2)+":"+Player.str_pad_left(e,"0",2);return l},updateTime:function(){var e=Player.YTPlayer.getCurrentTime();Player.GUI.time.innerText=Player.formatTime(e);var a=Player.YTPlayer.getDuration();Player.GUI.duration.innerText=Player.formatTime(a);var l=e/a;console.log("Progress:",l),document.getElementById("trackbar").style.width=100*l+"%"},play:function(){Player.GUI.controls.play.innerText="pause_circle_filled",Player.YTPlayer.playVideo()},pause:function(){Player.GUI.controls.play.innerText="play_circle_filled",Player.YTPlayer.pauseVideo()},loadVideoById:function(e){Player.YTPlayer.loadVideoByid(e)},str_pad_left:function(e,a,l){return(new Array(l+1).join(a)+e).slice(-l)},loadByUrl:function(e){console.log("Load Video By Url: ",e),Player.YTPlayer.loadVideoByUrl(e),Player.play()},loadVideo:function(){console.log("LOADING VIDEO"),Player.clearPlayer(),Player.YTPlayer=new YT.Player("player",{events:{onReady:Player.onReady,onStateChange:Player.onStateChange}}),console.log("object created")},clearPlayer:function(){console.log("CLEARING VIDEO"),void 0!==Player.YTPlayer&&null!==Player.YTPlayer&&(Player.YTPlayer.stopVideo(),Player.YTPlayer.clearVideo(),Player.YTPlayer.destroy()),Player.GUI.controls.play.removeEventListener("click",Player.changeVideoState);var e=document.getElementsByTagName("body")[0],a=document.getElementById("player");void 0!==a&&null!==a&&(console.log(a),e.removeChild(document.getElementById("player")));var l=document.createElement("iframe");l.id="player",l.width="1",l.height="1";var t=getParameterByName("list",Player.GUI.searchField.value);console.log("Playlist URL:",t),l.src="https://www.youtube.com/embed/videoseries?list="+t+"&enablejsapi=1",console.log(l),e.appendChild(l),clearInterval(Player.updateTimeInterval),clearInterval(Player.updateMetaInterval),Player.YTPlayer=void 0}};