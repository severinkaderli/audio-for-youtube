"use strict";var Player={YTPlayer:void 0,updateTimeInterval:void 0,updateMetaInterval:void 0,videoHasEnded:!1,activeKeys:{},elements:{gui:document.getElementById("gui"),title:document.getElementById("title"),time:document.getElementById("currentTime"),duration:document.getElementById("duration"),controls:{play:document.getElementById("play"),prev:document.getElementById("prev"),next:document.getElementById("next"),volumeSlider:document.getElementById("volumeSlider")},searchField:document.getElementById("searchField"),preloader:document.getElementById("preloader"),error:document.getElementById("error")},loadPlayer:function(){Player.clearPlayer()&&(Player.YTPlayer=new YT.Player("player",{events:{onReady:Player.onReady,onError:Player.onError,onStateChange:Player.onStateChange}}))},clearPlayer:function(){clearInterval(Player.updateTimeInterval),clearInterval(Player.updateMetaInterval),Player.elements.controls.play.removeEventListener("click",Player.changeVideoState),Player.elements.controls.prev.removeEventListener("click",Player.playPrevious),Player.elements.controls.next.removeEventListener("click",Player.playNext),Player.elements.controls.volumeSlider.removeEventListener("input",Player.updateVolume),void 0!==Player.YTPlayer&&null!==Player.YTPlayer&&(Player.pause(),Player.YTPlayer.stopVideo().clearVideo().destroy(),Player.YTPlayer=void 0),Player.hideGUI(),Player.hideError(),Player.showPreloader(),document.getElementById("trackbar").style.width=0,window.addEventListener("keydown",Player.keydown,!1),window.addEventListener("keyup",Player.keyup,!1);var e=document.getElementsByTagName("body")[0],r=document.getElementById("player");void 0!==r&&null!==r&&e.removeChild(document.getElementById("player"));var a=document.createElement("iframe");a.id="player",a.width="1",a.height="1";var t=Player.getParameterByName("list",Player.elements.searchField.value);return null==t?(Player.showError("Please enter a correct playlist URL."),!1):(a.src="https://www.youtube.com/embed/videoseries?list="+t+"&enablejsapi=1",e.appendChild(a),!0)},onReady:function(){Player.YTPlayer.unMute(),Player.YTPlayer.setVolume(100),setTimeout(function(){Player.YTPlayer.setShuffle(!0),Player.YTPlayer.setLoop(!0)},2e3),Player.hidePreloader(),Player.showGUI(),Player.elements.controls.play.addEventListener("click",Player.changeVideoState),Player.elements.controls.prev.addEventListener("click",Player.playPrevious),Player.elements.controls.next.addEventListener("click",Player.playNext),Player.elements.controls.volumeSlider.addEventListener("input",Player.updateVolume),window.addEventListener("keydown",Player.keydown,!1),window.addEventListener("keyup",Player.keyup,!1),Player.updateTimeInterval=setInterval(Player.updateTime,500),Player.updateMetaInterval=setInterval(Player.displayMeta,500)},onError:function(e){var r=e.data;switch(r){case 150:Player.showError("This playlist is private or doesn't exist.")}console.error("Errorcode: "+r)},onStateChange:function(e){var r=e.target.getPlayerState();r==YT.PlayerState.ENDED&&(Player.videoHasEnded=!0),Player.videoHasEnded&&r==YT.PlayerState.PLAYING&&!function(){var e=Player.getParameterByName("v",Player.YTPlayer.getVideoUrl()),r=new Notification(Player.YTPlayer.getVideoData().title,{icon:"https://i1.ytimg.com/vi/"+e+"/hqdefault.jpg"});setTimeout(function(){r.close()},5e3),Player.videoHasEnded=!1}()},showGUI:function(){Player.elements.gui.classList.remove("hide")},hideGUI:function(){Player.elements.gui.classList.add("hide")},showPreloader:function(){Player.elements.preloader.classList.remove("hide")},hidePreloader:function(){Player.elements.preloader.classList.add("hide")},keydown:function(e){if(null==Player.activeKeys[e.keyCode]){switch(e.keyCode){case 37:case 74:Player.playPrevious();break;case 39:case 75:Player.playNext();break;case 32:Player.changeVideoState()}Player.activeKeys[e.keyCode]=!0}},keyup:function(e){Player.activeKeys[e.keyCode]=null},changeVideoState:function(){Player.YTPlayer.getPlayerState()==YT.PlayerState.PLAYING?(clearInterval(Player.updateTimeInterval),Player.pause()):(Player.updateTimeInterval=setInterval(Player.updateTime,500),Player.play())},displayMeta:function(){var e=Player.YTPlayer.getVideoData().title;Player.elements.title.innerText=e,document.getElementsByTagName("title")[0].innerText=e},updateVolume:function(e){Player.YTPlayer.setVolume(e.target.value)},playNext:function(){Player.YTPlayer.nextVideo(),Player.play()},playPrevious:function(){Player.YTPlayer.previousVideo(),Player.play()},showError:function(e){Player.hideGUI(),Player.hidePreloader(),Player.elements.error.innerHTML="Error: "+e,Player.elements.error.classList.add("show")},hideError:function(){Player.elements.error.classList.remove("show"),Player.elements.error.innerHTML=""},updateTime:function(){var e=Player.YTPlayer.getCurrentTime();Player.elements.time.innerText=Player.formatTime(e);var r=Player.YTPlayer.getDuration();Player.elements.duration.innerText=Player.formatTime(r);var a=e/r;document.getElementById("trackbar").style.width=100*a+"%"},play:function(){Player.elements.controls.play.innerText="pause_circle_filled",Player.YTPlayer.playVideo()},pause:function(){Player.elements.controls.play.innerText="play_circle_filled",Player.YTPlayer.pauseVideo()},loadVideoById:function(e){Player.YTPlayer.loadVideoByid(e)},str_pad_left:function(e,r,a){return(new Array(a+1).join(r)+e).slice(-a)},formatTime:function(e){e=Math.floor(e);var r=Math.floor(e/60);return e-=60*r,Player.str_pad_left(r,"0",2)+":"+Player.str_pad_left(e,"0",2)},getParameterByName:function(e){var r=arguments.length<=1||void 0===arguments[1]?window.location.href:arguments[1];e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(r);return a&&a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):null}};